# テーブル設計

# ER図
![image](https://user-images.githubusercontent.com/74910089/104165512-d1d37800-543c-11eb-91d4-a4d35a797982.png)


## users テーブル

| Column             | Type    | Options                   |
| ------------------ | ------- | ------------------------- |
| name               | string  | null: false               |
| email              | string  | null: false, unique: true |
| encrypted_password | string  | null: false               |
| nursing_history    | integer | null: false               |
| ward_id            | integer | null: false               |

### Association

- has_many :techniques
- has_many :posts
- has_many :comments
- has_many :completes

## techniques テーブル

| Column        | Type       | Options                          |
| ------------- | ---------- |--------------------------------- |
| title         | string     | null: false                      |
| priority_id   | integer    | null: false                      |
| description   | text       | null: false                      |
| target_on     | date       | null: false                      |
| completed_on  | date       | null: false                      |
| video         |            | null: false                      |
| user          | references | null: false, foreign_key: true   |
### Association

- belongs_to  :user
- has_many    :completes

## post テーブル

| Column              | Type       | Options                        |
| ------------------- | ---------- | ------------------------------ |
| content             | string     | null: false                    |
| user                | references | null: false, foreign_key: true |

### Association

- belongs_to :user

## comment テーブル

| Column           | Type       | Options                        |
| ---------------- | ---------- | ------------------------------ |
| content          | string     | null: false                    |
| user             | references | null: false, foreign_key: true |
| post             | references | null: false, foreign_key: true |

### Association

- belongs_to :user
- belongs_to :post

## meeting テーブル

| Column           | Type       | Options                        |
| ---------------- | ---------- | ------------------------------ |
| name             | string     | null: false                    |
| start_time       | datetime   | null: false                    |


## complete テーブル

| Column              | Type       | Options                        |
| ------------------- | ---------- | ------------------------------ |
| completed           | boolean    | null: false, default: false    |
| user                | references | null: false, foreign_key: true |
| technique           | references | null: false, foreign_key: true |

### Association

- belongs_to :user, optional: true
- belongs_to :technique, optional: true

作成したオリジナルアプリについて紹介します。

## テスト用アカウント

- 新人用アカウント

  - ID: test1@example

  - PW: 111111

  - 看護師歴 3年以下

- 指導者用アカウント

  - ID: test2@example

  - PW: 222222

  - 看護師歴 4年以上


## URL
- https://nurseapp-32473.herokuapp.com/users/sign_in

## ローカルでの動作方法
Chromeの最新版を利用してアクセスしてください。
1. リモートリポジトリをクローン
    1.  git clone https://github.com/mitsugu-kawaguchi/nurseapp-32473.git
1. .gitファイルを確認
    1.  ls -a | grep .git
1. .gitファイルを削除
    1.  rm -rf .git
1. 自身のリポジトリに再掲
    1.  git init

開発環境
- Ruby/Ruby on Rails/MySQL/Github/AWS/Visual Studio Code

## アプリケーション名
- nurseapp

## アプリケーション概要・目指した課題解決
ペルソナ：看護師（現場で働く現役ナース）　20代〜40代男女

このソフトは新人看護技術のチェックリストで、マニュアル・技術チェック・新人指導者間でのコミュニケーションツールを集約したものです。  
病院では必須の新人看護技術が多いのとチェックリストとマニュアルが全て紙であり、確認作業に時間がかかる要因がありました。  
また日々の看護業務の中で、看護技術を習得しなければならず指導者とのスケジュール調整が必要になりますが、日々の業務が変化する中で調整することが難しいと考えました。  
このソフトを使用すればログイン後、1週間の予定をみることができ指導者との調整が可能になります。またPC一つでマニュアル動画を確認しながら、技術をチェックできます。  


## 利用方法
接続先およびログイン情報については、上記の通りです。  
テストアカウント(指導者)でログイン→トップページ下記フォームから技術追加ボタンを押下→技術情報入力、予定情報入力→追加  
テストアカウント(新人)でログイン→トップページ中央技術一覧から押→マニュアル一覧表示にて動画再生→トップページ自分の名前押→技術進捗の完了、未完了ボタン押→反映  
確認後、ログアウト処理をお願いします  

## 洗い出した用件

|優先順位|機能|目的|詳細|ストーリー|見積もり|
|:---:|:---:|:---|:---|:---|:---:|
|1|管理者権限機能|管理者権限を指定することで、新人、指導者、管理者で実施できる機能を制限する。|管理者はすべての権限がある指導者は新人の技術のチェックリストをチェックすることができる。また予定を追加することができる新人はマニュアルや自分の技術進捗を参照できる。|管理者が各ユーザーに権限を与え、不正がないように管理できる。新規登録も排除し、各ユーザーにIDとパスワードを与えることができる。|未|
|3|マイページ機能|技術の進捗を確認できる。|マイページにて自己の技術能力を新人や指導者が閲覧できる。|ユーザーがマイページにて技術進捗状況や優先順位の高い技術項目を閲覧することができる。|1日|
|3|技術一覧・追加機能|習得すべき技術を表示し、新人が指導者に相談しやすい環境にする指導者が技術を追加できるようにする。|技術一覧を表示し、習得するべき技術項目を確認する。指導者が追加した技術は一覧表示する。|ログイン後トップページ遷移すると、技術一覧と新人一覧が表示される。指導者は指導者の入力フォームから技術を追加することができる。|3日|
|3|技術情報編集削除機能|看護技術の変更が必要になった時に、指導者は技術を編集、削除することができる。|看護技術をを編集、更新する。|指導者が技術詳細ページから技術を編集、削除することができる。|1日|
|2|日本語化|日本人が利用するアプリであり、日本語で共通理解を得る。|エラー表記を日本語化し、デフォルトで記入されている英語表記を変更。|ログイン時や新規登録時に、エラーが発生するが日本語表記となっている。他機能についても同様。|3時間|
|3|検索機能|技術項目を検索し、時間短縮につながる。|優先度を選択して、優先度別に検索することもできる。|習得したい技術を検索し、マニュアルも参照することができる。優先度別に検索する、複数条件も可能。|1日|
|3|動画表示機能|情報を集約し、マニュアルと技術チェックリストを同じアプリに組み込むため。技術能力を統一させるため文章だと一人ずつ解釈が違うため。|技術をクリックすると、マニュアルが動画で再生され、評価基準となる。|技術をクリックすると、マニュアル画面に遷移し動画再生できる。動画を途中から再生したりできるため、時間の短縮につながる。|1日|
|2|技術進捗表示機能評価機能|各ユーザーごとに技術の進捗を表示する。指導者のみチェックできる。|ユーザーページごとに新人の技術進捗が表示される。|チェックすると、経験済みの技術を下に表示される。新人、指導者共にユーザーページごとに進捗を表示される。|1日|
|2|カレンダー機能|トップページにカレンダーと予定を表示することで、1日の行動計画を決めることができる。|予定を指導者が入力することができる。1週間おきのカレンダーを表示。来週、先週と確認することができる。|ログイン後新人や指導者は予定を確認することができるため、確認後1日の行動計画や、看護師同士のタイムスケジュール調整にもつながる。|1日|
|2|コメント機能|新人・指導者がコミュニケーションを取れるようになり、スムーズなフィードバックに繋がる。|ユーザーページにて、新人が質問テーマを記述することで、質問テーマごとにコメントすることができる。指導者とコミュニケーションをとることで、学びや悩みを共有することができる。|ユーザーページにて、質問テーマを新人が記入する。質問テーマとコメントを確認し、指導者はコメントすることができる。ログインユーザーなら、他者のコメントを閲覧できる。|1日|

## 実装した機能についてのGIFと説明

### マイページ機能、技術進捗表示評価機能
![test1](https://user-images.githubusercontent.com/74910089/105272626-17cad180-5bdd-11eb-990f-87d4908cf3a1.gif)  
新人の情報を閲覧することができ、質問テーマを新人は記入することができそこから指導者とコミュニケーションをはかることができます。各ユーザーページにて技術の進捗状況を確認することができます。新人は完了ボタンをクリックすることで、経験済み技術へ表示させることができます。  
課題：指導者が経験技術のチェックをできるようにしたかったのですが、新人が完了ボタンをクリックしないと経験済み技術に表示されない現象が起こっていますので改善します。  
### 技術一覧・追加機能
![test2](https://user-images.githubusercontent.com/74910089/105273517-c7547380-5bde-11eb-87aa-0801d9cfef08.gif)  
看護師経験4年目以上は指導者として技術の追加をすることができます。  
各ページの下記にフォームがあるので、そこから追加します。　　
### 技術情報編集削除機能
![test3](https://user-images.githubusercontent.com/74910089/105273801-55305e80-5bdf-11eb-8662-a66a49fe03da.gif)  
看護師経験4年目以上は指導者として技術の編集、削除することができます。　　
### 日本語化
![test4](https://user-images.githubusercontent.com/74910089/105274357-5c0ba100-5be0-11eb-8eee-0103f9c67871.gif)  
ペルソナが日本の看護師を対象にしているので、英語表記から日本語表記に変更しました。
### 検索機能
![test5](https://user-images.githubusercontent.com/74910089/105274777-4185f780-5be1-11eb-8ee0-eb2fcddbaa74.gif)  
ヘッダー部分より、看護技術のキーワード検索をすることができます。優先度も設定しているので、優先度の高い技術も検索することができます。  
課題：トップページにて検索結果を表示している状態ですので、検索結果を別ページに遷移して表示させるとみやすいと感じました。また、看護技術は多いためカテゴリー別に検索できるようにするとより検索機能として有用なものになると思いました。新人看護師も毎年増えると思いますので、看護師の検索も必要だと思いました。
### 動画表示機能
![test6](https://user-images.githubusercontent.com/74910089/105275330-6890f900-5be2-11eb-9c73-69e8675cbe8a.gif)  
技術詳細画面へ遷移すると、動画のスクリーンショットが表示されているのでクリックすると動画が全画面で再生されます。動画の停止や巻き戻しも可能です。  
課題：技術の説明も記入されているのですが、動画再生中は読むことができないのが課題です。動画を埋め込み式で再生することができれば、説明文を読みながら確認することができます。　　 
### カレンダー機能
![test7](https://user-images.githubusercontent.com/74910089/105275792-68452d80-5be3-11eb-8fd5-c83d7e59f4a7.gif)  
トップページに1週間単位でカレンダーを導入しています。指導者はフッターの予定入力フォームから、予定を追加できます。  
課題：予定を追加できるのですが、予定の詳細機能までは作成できませんでした。追加された予定をクリックすることで、予定の詳細があれば細かく看護師同士でスケジュール調整が可能だと思いました。　　
### コメント機能
![test8](https://user-images.githubusercontent.com/74910089/105276919-bd823e80-5be5-11eb-9c27-b61449e0b1d1.gif)  
新人は質問したいテーマを入力することで新たにコミュニケーションのとれるフォームを作成できます。質問フォームでは全てのログインユーザーがコメントできる仕様となっています。  
課題：全てのユーザーがコメントできるようになっているのと、質問内容に対するコメントを探すのに時間がかかってしまうのが問題です。新人同士のコミュニケーションではなく、新人に対しては指導者のみがコメントできるように条件分岐が必要だと感じました。またコメントに対する返信機能や、DM・通知機能があればより早くフィードバックできると思いました。
## 実装予定の機能
- 管理者権限機能
- 各種編集削除機能
- 上記課題項目
